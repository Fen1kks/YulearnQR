<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
    <meta name="theme-color" content="#1e3a5f" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="YulearnQR" />
    <meta
      name="description"
      content="Yeditepe Ãœniversitesi Yulearn QR yoklama tarayÄ±cÄ± - HÄ±zlÄ± ve gÃ¼venli QR kod yoklama"/>
    <meta name="mobile-web-app-capable" content="yes" />

    <title>Yulearn QR Yoklama</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json" />

    <!-- Icons -->
    <link rel="icon" type="image/svg+xml" href="assets/icons/icon.svg" />
    <link rel="apple-touch-icon" href="assets/icons/icon.svg" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet" />

    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css" />

    <!-- html5-qrcode Library -->
    <script src="js/vendor/html5-qrcode.min.js"></script>
  </head>
  <body>
    <div class="app" id="app">
      <!-- Header -->
      <header class="header">
        <div class="header__brand">
          <img
            src="assets/icons/icon.svg"
            alt="Yulearn QR"
            class="header__logo" />
          <h1 class="header__title" data-i18n="appTitle">
            Yulearn QR
          </h1>
        </div>
        <div class="header__actions">
          <button
            class="icon-btn"
            id="btn-settings"
            title="Ayarlar"
            aria-label="Settings">
            <svg
              viewBox="0 0 24 24"
              width="20"
              height="20"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"></circle>
              <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
              </path>
            </svg>
          </button>
          <button
            class="icon-btn"
            id="btn-lang"
            title="Dil DeÄŸiÅŸtir"
            aria-label="Change Language">
            EN
          </button>
        </div>
      </header>

      <!-- Scanner -->
      <main class="scanner-section">
        <!-- Scanner Container -->
        <div class="scanner-container">
          <!-- QR Reader -->
          <div id="qr-reader"></div>

          <!-- Placeholder (before camera starts) -->
          <div class="scanner-placeholder" id="scanner-placeholder">
            <div class="scanner-placeholder__icon">ğŸ“¸</div>
            <p class="scanner-placeholder__text" data-i18n="scannerPlaceholder">
              TaramayÄ± baÅŸlatmak iÃ§in aÅŸaÄŸÄ±daki butona dokunun
            </p>
          </div>

          <!-- Scanner overlay corners -->
          <div class="scanner-overlay">
            <div class="scanner-corner scanner-corner--tl"></div>
            <div class="scanner-corner scanner-corner--tr"></div>
            <div class="scanner-corner scanner-corner--bl"></div>
            <div class="scanner-corner scanner-corner--br"></div>
            <div class="scan-line" id="scan-line"></div>
          </div>
        </div>

        <div class="camera-controls">
          <button class="btn btn--primary btn--full" id="btn-scan">
            <span class="btn__icon">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/>
                <circle cx="12" cy="13" r="3"/>
              </svg>
            </span>
            <span data-i18n="startScan">TaramayÄ± BaÅŸlat</span>
          </button>
          <button
            class="icon-btn hidden"
            id="btn-camera-switch"
            title="Kamera DeÄŸiÅŸtir"
            aria-label="Switch Camera">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
              <path d="M3 3v5h5"/>
            </svg>
          </button>
        </div>

        <!-- Status Card -->
        <div class="status-card" id="status-card">
          <span class="status-card__icon"></span>
          <div class="status-card__content">
            <div class="status-card__title"></div>
            <div class="status-card__text"></div>
          </div>
        </div>
      </main>

      <!-- History -->
      <section class="history-section">
        <div class="history-header">
          <span class="history-header__title" data-i18n="historyTitle">
            Son Taramalar
          </span>
          <button
            class="history-header__clear"
            id="btn-clear-history"
            data-i18n="historyClear">
            Temizle
          </button>
        </div>
        <div class="history-list" id="history-list">
          <div class="history-empty" data-i18n="historyEmpty">
            HenÃ¼z tarama yapÄ±lmadÄ±
          </div>
        </div>
      </section>

      <!-- Attribution -->
      <div class="attribution">
        <div data-i18n="footer">
          Yeditepe Ãœniversitesi Ã¶ÄŸrencileri iÃ§in geliÅŸtirildi
        </div>
        <div>
          <span data-i18n="createdBy">
            YapÄ±mcÄ±
          </span>
          <span class="author-name">
            HÄ±zÄ±r Ketenci
          </span>
        </div>
        <a href="https://donate.bynogame.com/fen1kks" target="_blank" rel="noopener noreferrer">
          <div class="donate-btn">
            <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
            <span data-i18n="donateBtn">BaÄŸÄ±ÅŸ Yap</span>
          </div>
        </a>
      </div>
    </div>

    <!-- Redirect Overlay -->
    <div class="redirect-overlay" id="redirect-overlay">
      <div class="redirect-overlay__icon">
        <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
          <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
        </svg>
      </div>
      <div class="redirect-overlay__text" data-i18n="redirecting">
        YÃ¶nlendiriliyor...
      </div>
      <div class="redirect-overlay__url" id="redirect-url"></div>
      <button
        class="btn btn--secondary redirect-overlay__cancel"
        id="btn-redirect-cancel"
        data-i18n="redirectCancel">
        Ä°ptal
      </button>
    </div>

    <!-- Settings Overlay -->
    <div class="settings-overlay" id="settings-overlay">
      <div class="settings-modal">
        <div class="settings-modal__header">
          <h2 data-i18n="settingsTitle">Ayarlar</h2>
          <button class="settings-modal__close" id="btn-settings-close">
            âœ•
          </button>
        </div>
        <div class="settings-modal__body">
          <div class="setting-item">
            <div class="setting-item__info">
              <span class="setting-item__title" data-i18n="vibrationTitle">
                TitreÅŸim (Haptic)
              </span>
              <span class="setting-item__desc" data-i18n="vibrationDesc">
                Tarama iÅŸlemi baÅŸarÄ±lÄ± olduÄŸunda titreÅŸim ile uyarÄ±r.
              </span>
            </div>
            <label class="switch">
              <input
                type="checkbox"
                class="setting-toggle"
                data-setting="vibration" />
              <span class="slider"></span>
            </label>
          </div>
          <div class="setting-item">
            <div class="setting-item__info">
              <span class="setting-item__title" data-i18n="autoRedirectTitle">
                AnÄ±nda YÃ¶nlendir
              </span>
              <span class="setting-item__desc" data-i18n="autoRedirectDesc">
                Onay beklemeden doÄŸrudan derse katÄ±lÄ±m sayfasÄ±na
                yÃ¶nlendirir.
              </span>
            </div>
            <label class="switch">
              <input
                type="checkbox"
                class="setting-toggle"
                data-setting="autoRedirect" />
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- App Module -->
    <script type="module" src="js/app.js"></script>
  </body>
</html>
